[tools]
python = "3.11"

[env]
_.python.venv = { path = ".venv", create = true }

[tasks.install]
description = "Install Python dependencies into venv"
run = "python -m ensurepip && python -m pip install -U pip && pip install -r requirements.txt"

[tasks.list-devices]
description = "List available audio devices and find BlackHole"
run = "python -m moonlander_musicviz.list_devices"

[tasks.live]
description = "Start the music visualizer (Live Mode)"
run = "python -m moonlander_musicviz.main"

[tasks.sim]
description = "Start the Digital Twin Simulator"
run = "python -m moonlander_musicviz.main --simulator"

[tasks.clean]
description = "Remove venv and cache"
run = "rm -rf .venv __pycache__ *.pyc moonlander_musicviz/__pycache__"
